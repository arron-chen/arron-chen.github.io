---
layout: post
title: "BFC理解"
date: 2017-11-16
author: 'arron'
header-img: "img/post-bg-js-version.jpg"
tags: 
 - note

---
#### BFC概念
> BFC(block formatting context）：简单来说，BFC 就是一种属性，这种属性会影响着元素的定位以及与其兄弟元素之间的相互作用。

中文常译为块级格式化上下文。是 W3C CSS 2.1 规范中的一个概念，它决定了元素如何对其内容进行定位，以及与其他元素的关系和相互作用。 在进行盒子元素布局的时候，BFC提供了一个环境，在这个环境中按照一定规则进行布局不会影响到其它环境中的布局。比如浮动元素会形成BFC，浮动元素内部子元素的主要受该浮动元素影响，两个浮动元素之间是互不影响的。 也就是说，如果一个元素符合了成为BFC的条件，该元素内部元素的布局和定位就和外部元素互不影响(除非内部的盒子建立了新的 BFC)，是一个隔离了的独立容器。（在 CSS3 中，BFC 叫做 Flow Root）
#### 形成BFC的条件
1. 浮动元素，float 除 none 以外的值； 
2. 绝对定位元素，position（absolute，fixed）； 
3. display 为以下其中之一的值 inline-blocks，table-cells，table-captions； 
4. overflow 除了 visible 以外的值（hidden，auto，scroll）
#### BFC的用途与在布局中的应用
##### 1.包含浮动元素
  高度塌陷问题：在通常情况下父元素的高度会被子元素撑开，而在这里因为其子元素为浮动元素所以父元素发生了高度坍塌，上下边界重合。这时就可以用bfc来清除浮动了。 
##### 2. 不被浮动元素覆盖 
问题案例： div浮动兄弟遮盖问题：由于左侧块级元素发生了浮动，所以和右侧未发生浮动的块级元素不在同一层内，所以会发生div遮挡问题。可以给蓝色块加 overflow: hidden，触发bfc来解决遮挡问题。 
##### 3. BFC 会阻止外边距折叠 
问题案例：margin塌陷问题：在标准文档流中，块级标签之间竖直方向的margin会以大的为准，这就是margin的塌陷现象。可以用overflow：hidden产生bfc来解决。 
##### 4. 防止margin重叠
 同一个BFC中俩个相邻的box才会发生重叠与方向无关，不过由于上文提到的第一条限制，我们甚少看到水平方向的margin重叠。这在IE这中是个特例，IE可以设置write-mode。</br>
 要阻止margin重叠，只要将俩个元素别放在一个BFC中即可（可以用上文提到的方式让相邻元素其中一个生成BFC）。阻止俩个相邻元素的重叠看起来没有意义，主要用于嵌套元素。
##### 5.多栏布局
上文提到的一条规则：与浮动元素相邻的已生成BFC的元素不能与浮动元素互相覆盖。利用该特性可以作为多栏布局的一种实现方式。
这种布局的特点在于左右俩栏的宽度固定，中间栏可以根据浏览器宽度自适应。
![bfc](img/in-post/post-note/03.jpg)

> *踩坑*，*done*。*摘自网络*